trigger:
- main

stages:
- stage: Setup
  displayName: 'Instalar OpenShift CLI'
  jobs:
  - job: InstallOC
    displayName: 'Instalar OpenShift CLI'
    pool:
      vmImage: 'ubuntu-latest'
    steps:
    - task: oc-setup@3
      inputs:
        connectionType: 'OpenShift Connection Service'
        openshiftService: 'Conexion Openshift'
      displayName: 'Instalar OC'

- stage: QueryOpenShift
  displayName: 'Consultar Pods en OpenShift'
  dependsOn: Setup
  jobs:
  - job: QueryJob
    displayName: 'Consultar Pods'
    pool:
      vmImage: 'ubuntu-latest'
    steps:
    - task: oc-cmd@3
      inputs:
        connectionType: 'OpenShift Connection Service'
        openshiftService: 'Conexion Openshift'
        cmd: 'oc get pods -n ronybae-dev'  # Reemplaza con tu namespace espec√≠fico
      displayName: 'Consultar Pods'